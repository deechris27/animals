{"version":3,"sources":["../Carousel.js","../Modal.js","../Details.js"],"names":["Carousel","state","photos","active","hero","value","map","photo","index","handleClick","media","filter","Component","modalRoot","document","getElementById","Modal","props","element","createElement","appendChild","removeChild","children","doggy","key","secret","LoadablePrompModal","loader","loading","Details","isLoading","showModal","setState","pet","get","output","id","then","data","breed","dataBreed","petfinder","breeds","Array","isArray","join","prevState","name","animal","location","contact","city","description","catch","history","push","toggleModal"],"mappings":"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","file":"Details.39ff8870.js","sourceRoot":"..\\src\\public","sourcesContent":["import React, { Component } from 'react'\r\n\r\nexport class Carousel extends Component {\r\n\r\n    constructor(){\r\n        super();\r\n        this.state = {\r\n            photos: [],\r\n            active: 0\r\n        };\r\n    }\r\n   \r\n\r\n    static getDerivedStateFromProps({media}){\r\n        let photos = [];\r\n        if(media && media.photos && media.photos.photo){\r\n            photos = media.photos.photo.filter(photo => photo[\"@size\"] === \"pn\");\r\n        }\r\n\r\n        return {photos};\r\n    }\r\n\r\n    render() {\r\n\r\n        const {photos, active} = this.state;\r\n\r\n        let hero  = \"http://placecorgi.com/300/300\";\r\n        if(photos[active] && photos[active].value){\r\n            hero = photos[active].value;\r\n        }\r\n\r\n        return (\r\n            <div className=\"carousel\">\r\n                <img src={hero} alt=\"animal\" />\r\n                <div className=\"carousel-smaller\">\r\n                    {photos.map((photo, index)=>(\r\n                       <img \r\n                       onClick={this.handleClick}\r\n                       data-index={index}\r\n                       key={photo.value}\r\n                       src={photo.value}\r\n                       className={index === active ? \"active\" : \"\"}\r\n                       alt=\"animal pic\"/>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Carousel\r\n\r\n","import React, {useEffect} from 'react';\r\nimport {createPortal} from 'react-dom';\r\n\r\nconst modalRoot = document.getElementById('modal');\r\n\r\nfunction Modal(props) {\r\n\r\n    const element = document.createElement('div');\r\n\r\n    useEffect(()=>{\r\n      modalRoot.appendChild(element);\r\n\r\n      return ()=>{\r\n          modalRoot.removeChild(element);\r\n      }\r\n    },[])\r\n\r\n    return createPortal(props.children, element);\r\n    \r\n}\r\n\r\nexport default Modal;\r\n","import React, { useState, useEffect } from 'react';\r\nimport pf from 'petfinder-client';\r\nimport {withRouter} from 'react-router-dom';\r\nimport Carousel from './Carousel';\r\nimport Modal from './Modal';\r\nimport Loadable from 'react-loadable';\r\nimport Loader from './components/Spinner';\r\n\r\nconst doggy = pf({\r\n    key: process.env.API_KEY,\r\n    secret: process.env.API_SECRET\r\n});\r\n\r\nconst LoadablePrompModal = Loadable({\r\n    loader: () => import('./components/PromptModal'),\r\n    loading(){\r\n        return <Loader />\r\n    }\r\n})\r\n\r\nfunction Details(props) {\r\n\r\n    const [state, setState] = useState({isLoading : true, showModal: false})\r\n\r\n    useEffect(()=>{\r\n      doggy.pet.get({output:\"full\", id: props.id})\r\n       .then(data=>{\r\n           let breed;\r\n           let dataBreed = data.petfinder.pet.breeds.breed;\r\n           breed = Array.isArray(dataBreed) ? dataBreed.join(\", \") : dataBreed;\r\n           setState(prevState=>({\r\n               ...prevState,\r\n               name: data.petfinder.pet.name,\r\n               animal: data.petfinder.pet.animal,\r\n               location: `${data.petfinder.pet.contact.city}, ${data.petfinder.pet.contact.state}`,\r\n               description: data.petfinder.pet.description,\r\n               media: data.petfinder.pet.media,\r\n               breed,\r\n               isLoading: false \r\n           }));\r\n       }).catch(()=>{props.history.push('/')})\r\n    },[]);\r\n\r\n    const toggleModal = () => setState(prevState=>({\r\n         ...prevState,\r\n         showModal: !state.showModal\r\n    }));\r\n\r\n    if(state.isLoading){\r\n        //return <h1>Loading......</h1>\r\n        return <Loader loading={state.isLoading}/>\r\n    }\r\n\r\n    const {media, animal, breed, location, description, name, showModal} = state;\r\n\r\n    return (\r\n        <div className=\"details\">\r\n           <Carousel media={media}/>\r\n           <div>\r\n              <h1>{name}</h1>\r\n              <h2>{`${animal} --- ${breed} --- ${location}`}</h2>\r\n              <button onClick={toggleModal}>Pick {name}</button>\r\n              <p>{description}</p>\r\n              {showModal ? (\r\n                  <Modal>\r\n                      <LoadablePrompModal toggleModal={toggleModal} name={name}/>\r\n                  </Modal>\r\n              ) : null}\r\n           </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(Details);\r\n"]}