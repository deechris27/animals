{"version":3,"sources":["../Carousel.js","../Modal.js","../Details.js"],"names":["Carousel","state","photos","active","hero","value","map","photo","index","handleClick","media","filter","Component","modalRoot","document","getElementById","Modal","props","element","createElement","appendChild","removeChild","children","doggy","key","secret","LoadablePrompModal","loader","loading","Details","isLoading","showModal","setState","pet","get","output","id","then","data","breed","dataBreed","petfinder","breeds","Array","isArray","join","prevState","name","animal","location","contact","city","description","catch","history","push","toggleModal"],"mappings":"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","file":"Details.39ff8870.js","sourceRoot":"..\\src\\public","sourcesContent":["import React, { Component } from 'react'\r\n\r\nexport class Carousel extends Component {\r\n\r\n    constructor(){\r\n        super();\r\n        this.state = {\r\n            photos: [],\r\n            active: 0\r\n        };\r\n    }\r\n   \r\n\r\n    static getDerivedStateFromProps({media}){\r\n        let photos = [];\r\n        if(media && media.photos && media.photos.photo){\r\n            photos = media.photos.photo.filter(photo => photo[\"@size\"] === \"pn\");\r\n        }\r\n\r\n        return {photos};\r\n    }\r\n\r\n    render() {\r\n\r\n        const {photos, active} = this.state;\r\n\r\n        let hero  = \"http://placecorgi.com/300/300\";\r\n        if(photos[active] && photos[active].value){\r\n            hero = photos[active].value;\r\n        }\r\n\r\n        return (\r\n            <div className=\"carousel\">\r\n                <img src={hero} alt=\"animal\" />\r\n                <div className=\"carousel-smaller\">\r\n                    {photos.map((photo, index)=>(\r\n                       <img \r\n                       onClick={this.handleClick}\r\n                       data-index={index}\r\n                       key={photo.value}\r\n                       src={photo.value}\r\n                       className={index === active ? \"active\" : \"\"}\r\n                       alt=\"animal pic\"/>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Carousel\r\n\r\n","import React, {useEffect} from 'react';\r\nimport {createPortal} from 'react-dom';\r\n\r\nconst modalRoot = document.getElementById('modal');\r\n\r\nfunction Modal(props) {\r\n\r\n    const element = document.createElement('div');\r\n\r\n    useEffect(()=>{\r\n      modalRoot.appendChild(element);\r\n\r\n      return ()=>{\r\n          modalRoot.removeChild(element);\r\n      }\r\n    },[])\r\n\r\n    return createPortal(props.children, element);\r\n    \r\n}\r\n\r\nexport default Modal;\r\n","import React, { useState, useEffect } from 'react';\r\nimport pf from 'petfinder-client';\r\nimport {withRouter} from 'react-router-dom';\r\nimport Carousel from './Carousel';\r\nimport Modal from './Modal';\r\nimport Loadable from 'react-loadable';\r\n\r\nconst doggy = pf({\r\n    key: process.env.API_KEY,\r\n    secret: process.env.API_SECRET\r\n});\r\n\r\nconst LoadablePrompModal = Loadable({\r\n    loader: () => import('./components/PromptModal'),\r\n    loading(){\r\n        return <h1>Loading modal...</h1>\r\n    }\r\n})\r\n\r\nfunction Details(props) {\r\n\r\n    const [state, setState] = useState({isLoading : true, showModal: false})\r\n\r\n    useEffect(()=>{\r\n      doggy.pet.get({output:\"full\", id: props.id})\r\n       .then(data=>{\r\n           let breed;\r\n           let dataBreed = data.petfinder.pet.breeds.breed;\r\n           breed = Array.isArray(dataBreed) ? dataBreed.join(\", \") : dataBreed;\r\n           setState(prevState=>({\r\n               ...prevState,\r\n               name: data.petfinder.pet.name,\r\n               animal: data.petfinder.pet.animal,\r\n               location: `${data.petfinder.pet.contact.city}, ${data.petfinder.pet.contact.state}`,\r\n               description: data.petfinder.pet.description,\r\n               media: data.petfinder.pet.media,\r\n               breed,\r\n               isLoading: false \r\n           }));\r\n       }).catch(()=>{props.history.push('/')})\r\n    },[]);\r\n\r\n    const toggleModal = () => setState(prevState=>({\r\n         ...prevState,\r\n         showModal: !state.showModal\r\n    }));\r\n\r\n    if(state.isLoading){\r\n        return <h1>Loading......</h1>\r\n    }\r\n\r\n    const {media, animal, breed, location, description, name, showModal} = state;\r\n\r\n    return (\r\n        <div className=\"details\">\r\n           <Carousel media={media}/>\r\n           <div>\r\n              <h1>{name}</h1>\r\n              <h2>{`${animal} -- ${breed} -- ${location}`}</h2>\r\n              <button onClick={toggleModal}>Adopt {name}</button>\r\n              <p>{description}</p>\r\n              {showModal ? (\r\n                  <Modal>\r\n                      <LoadablePrompModal toggleModal={toggleModal} name={name}/>\r\n                  </Modal>\r\n              ) : null}\r\n           </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(Details);\r\n"]}